{"ast":null,"code":"import _objectSpread from \"/Users/phoebe/homework/obdesign/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { addCart_DATA, getCart_DATA } from '../action/ShopCar';\n\nconst ShopCar = (state = [], action) => {\n  switch (action.type) {\n    case addCart_DATA:\n      console.log('state', state);\n      console.log('action', action);\n\n      if (state.map(t => {\n        return t.product.name;\n      }).indexOf(action.product.name) >= 0) {\n        alert(\"此商品已加入購物車\");\n        return state;\n      } else return [...state, {\n        id: action.id,\n        product: _objectSpread({}, action.product),\n        quantity: action.quantity\n      }];\n\n    case 'NOBUY_PRODUCT':\n      return state.filter(state => state.id !== action.id);\n\n    case 'CHANGENUM_PRODUCT':\n      return state.map(odddata => {\n        if (odddata.id !== action.id) return odddata;\n        return _objectSpread({}, odddata, {\n          quantity: action.quantity\n        });\n      });\n\n    case getCart_DATA:\n      return [...state, {\n        id: action.id,\n        product: _objectSpread({}, action.product),\n        quantity: action.quantity\n      }];\n\n    default:\n      return state;\n  }\n};\n\nexport default ShopCar;","map":{"version":3,"sources":["/Users/phoebe/homework/obdesign/src/reducer/ShopCar.js"],"names":["addCart_DATA","getCart_DATA","ShopCar","state","action","type","console","log","map","t","product","name","indexOf","alert","id","quantity","filter","odddata"],"mappings":";AAAA,SAAQA,YAAR,EAAqBC,YAArB,QAAwC,mBAAxC;;AAEA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAC,EAAP,EAAUC,MAAV,KAAqB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKL,YAAL;AACIM,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBJ,KAApB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBH,MAArB;;AACA,UAAGD,KAAK,CAACK,GAAN,CAAUC,CAAC,IAAI;AAAC,eAAOA,CAAC,CAACC,OAAF,CAAUC,IAAjB;AAAsB,OAAtC,EAAwCC,OAAxC,CAAgDR,MAAM,CAACM,OAAP,CAAeC,IAA/D,KAAwE,CAA3E,EAA6E;AACzEE,QAAAA,KAAK,CAAC,WAAD,CAAL;AACA,eAAOV,KAAP;AACH,OAHD,MAKI,OAAO,CACH,GAAGA,KADA,EAEH;AACIW,QAAAA,EAAE,EAAEV,MAAM,CAACU,EADf;AAEIJ,QAAAA,OAAO,oBAAMN,MAAM,CAACM,OAAb,CAFX;AAGIK,QAAAA,QAAQ,EAAEX,MAAM,CAACW;AAHrB,OAFG,CAAP;;AAQR,SAAK,eAAL;AACI,aAAOZ,KAAK,CAACa,MAAN,CAAab,KAAK,IAAIA,KAAK,CAACW,EAAN,KAAaV,MAAM,CAACU,EAA1C,CAAP;;AACJ,SAAK,mBAAL;AACI,aAAOX,KAAK,CAACK,GAAN,CAAUS,OAAO,IAAE;AACtB,YAAGA,OAAO,CAACH,EAAR,KAAeV,MAAM,CAACU,EAAzB,EACI,OAAOG,OAAP;AACJ,iCAAWA,OAAX;AAAoBF,UAAAA,QAAQ,EAAEX,MAAM,CAACW;AAArC;AACH,OAJM,CAAP;;AAKJ,SAAKd,YAAL;AACI,aAAO,CACH,GAAGE,KADA,EAEH;AACIW,QAAAA,EAAE,EAAEV,MAAM,CAACU,EADf;AAEIJ,QAAAA,OAAO,oBAAMN,MAAM,CAACM,OAAb,CAFX;AAGIK,QAAAA,QAAQ,EAAEX,MAAM,CAACW;AAHrB,OAFG,CAAP;;AAQJ;AACI,aAAOZ,KAAP;AAnCR;AAqCH,CAtCD;;AAwCA,eAAeD,OAAf","sourcesContent":["import {addCart_DATA,getCart_DATA} from '../action/ShopCar'\n\nconst ShopCar = (state=[],action) => {\n    switch (action.type){\n        case addCart_DATA: \n            console.log('state',state);\n            console.log('action',action);\n            if(state.map(t => {return t.product.name}).indexOf(action.product.name) >= 0){\n                alert(\"此商品已加入購物車\");\n                return state;\n            }\n            else\n                return [\n                    ...state,\n                    {\n                        id: action.id,\n                        product: {...action.product},\n                        quantity: action.quantity\n                    }\n                ];\n        case 'NOBUY_PRODUCT':\n            return state.filter(state => state.id !== action.id);\n        case 'CHANGENUM_PRODUCT':\n            return state.map(odddata=>{\n                if(odddata.id !== action.id)\n                    return odddata;\n                return {...odddata, quantity: action.quantity}\n            });\n        case getCart_DATA:\n            return [\n                ...state,\n                {\n                    id: action.id,\n                    product: {...action.product},\n                    quantity: action.quantity\n                }\n            ];\n        default:\n            return state;\n    }\n}\n\nexport default ShopCar;"]},"metadata":{},"sourceType":"module"}