{"ast":null,"code":"import Axios from 'axios'; //let nextBuyId = 0;\n//export const BUY_PRODUCT = 'BUY_PRODUCT'\n//export const NOBUY_PRODUCT = 'NOBUY_PRODUCT'\n//export const CHANGENUM_PRODUCT = 'CHANGENUM_PRODUCT'\n\nexport const getCart_DATA = 'getCart_DATA'; // export function buyproduct(product,quantity){\n//     return{\n//         type : BUY_PRODUCT ,\n//         id : nextBuyId++,\n//         product,\n//         quantity\n//     };\n// }\n// export function nobuyproduct(id){\n//     return{\n//         type : NOBUY_PRODUCT ,\n//         id\n//     };\n// }\n// export function changenumproduct(id,quantity){\n//     return{\n//         type : CHANGENUM_PRODUCT ,\n//         id,\n//         quantity\n//     };\n// }\n\nexport function addCart(data) {\n  console.log('data', data);\n  return dispatch => {\n    Axios({\n      url: 'http://192.168.10.186:8888/api/cart',\n      method: 'POST',\n      body: data,\n      config: {\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      }\n    }).then(res => {\n      console.log('123123123');\n      dispatch(getCart());\n    }).catch(err => {\n      console.log(\"1111\", err);\n    });\n  };\n} // export function updateCart(data) {\n//     return dispatch => {\n//         Axios({\n//             url:'http://192.168.10.184:8888/api/cart',\n//             method: 'POST',\n//             config: { \n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                     'Access-Control-Allow-Origin': '*',\n//                 }\n//             },\n//             data: data,\n//         })     \n//         .then((res) => {\n//             dispatch(getCart());\n//         })\n//         .catch((err) => {\n//             console.log(\"1111\", err);\n//         })\n//     }\n// }\n// export function deleteCart(data) {\n//     return dispatch => {\n//         Axios({\n//             url:'http://192.168.10.184:8888/api/cart',\n//             method: 'POST',\n//             config: { \n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                     'Access-Control-Allow-Origin': '*',\n//                 }\n//             },\n//             data: data,\n//         })     \n//         .then((res) => {\n//             dispatch(getCart());\n//         })\n//         .catch((err) => {\n//             console.log(\"1111\", err);\n//         })\n//     }\n// }\n\nconst getCartSuccess = data => ({\n  type: getCart_DATA,\n  data\n});\n\nexport function getCart() {\n  return dispatch => {\n    Axios({\n      url: 'http://192.168.10.186:8888/api/cart',\n      method: 'get',\n      config: {\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      }\n    }).then(res => {\n      console.log(res);\n      dispatch(getCartSuccess(res.data));\n    }).catch(err => {\n      console.log(\"1111\", err);\n    });\n  };\n}","map":{"version":3,"sources":["/Users/phoebe/homework/obdesign/src/action/ShopCar.js"],"names":["Axios","getCart_DATA","addCart","data","console","log","dispatch","url","method","body","config","headers","then","res","getCart","catch","err","getCartSuccess","type"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,YAAY,GAAG,cAArB,C,CAKP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AAC1BC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBF,IAAnB;AACA,SAAOG,QAAQ,IAAI;AACfN,IAAAA,KAAK,CAAC;AACFO,MAAAA,GAAG,EAAC,qCADF;AAEFC,MAAAA,MAAM,EAAE,MAFN;AAGFC,MAAAA,IAAI,EAAEN,IAHJ;AAIFO,MAAAA,MAAM,EAAE;AACJC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,yCAA+B;AAF1B;AADL;AAJN,KAAD,CAAL,CAWCC,IAXD,CAWOC,GAAD,IAAS;AACXT,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAC,MAAAA,QAAQ,CAACQ,OAAO,EAAR,CAAR;AACH,KAdD,EAeCC,KAfD,CAeQC,GAAD,IAAS;AACZZ,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBW,GAApB;AACH,KAjBD;AAkBH,GAnBD;AAoBH,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,cAAc,GAAGd,IAAI,KAAK;AAC5Be,EAAAA,IAAI,EAAEjB,YADsB;AAE5BE,EAAAA;AAF4B,CAAL,CAA3B;;AAKE,OAAO,SAASW,OAAT,GAAmB;AACxB,SAAOR,QAAQ,IAAI;AACfN,IAAAA,KAAK,CAAC;AACFO,MAAAA,GAAG,EAAC,qCADF;AAEFC,MAAAA,MAAM,EAAE,KAFN;AAGFE,MAAAA,MAAM,EAAE;AACJC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,yCAA+B;AAF1B;AADL;AAHN,KAAD,CAAL,CAUCC,IAVD,CAUOC,GAAD,IAAS;AACXT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACAP,MAAAA,QAAQ,CAACW,cAAc,CAACJ,GAAG,CAACV,IAAL,CAAf,CAAR;AACH,KAbD,EAcCY,KAdD,CAcQC,GAAD,IAAS;AACZZ,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBW,GAApB;AACH,KAhBD;AAiBH,GAlBD;AAmBH","sourcesContent":["import Axios from 'axios';\n//let nextBuyId = 0;\n//export const BUY_PRODUCT = 'BUY_PRODUCT'\n//export const NOBUY_PRODUCT = 'NOBUY_PRODUCT'\n//export const CHANGENUM_PRODUCT = 'CHANGENUM_PRODUCT'\nexport const getCart_DATA = 'getCart_DATA';\n\n\n\n\n// export function buyproduct(product,quantity){\n//     return{\n//         type : BUY_PRODUCT ,\n//         id : nextBuyId++,\n//         product,\n//         quantity\n//     };\n// }\n// export function nobuyproduct(id){\n//     return{\n//         type : NOBUY_PRODUCT ,\n//         id\n//     };\n// }\n// export function changenumproduct(id,quantity){\n//     return{\n//         type : CHANGENUM_PRODUCT ,\n//         id,\n//         quantity\n//     };\n// }\n\nexport function addCart(data) {\n    console.log('data',data);\n    return dispatch => {\n        Axios({\n            url:'http://192.168.10.186:8888/api/cart',\n            method: 'POST',\n            body: data,\n            config: { \n                headers: {\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin': '*',\n                }\n            },\n        })\n        .then((res) => {\n            console.log('123123123');\n            dispatch(getCart());\n        })\n        .catch((err) => {\n            console.log(\"1111\", err);\n        })\n    }\n}\n\n// export function updateCart(data) {\n//     return dispatch => {\n//         Axios({\n//             url:'http://192.168.10.184:8888/api/cart',\n//             method: 'POST',\n//             config: { \n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                     'Access-Control-Allow-Origin': '*',\n//                 }\n//             },\n//             data: data,\n//         })     \n//         .then((res) => {\n//             dispatch(getCart());\n//         })\n//         .catch((err) => {\n//             console.log(\"1111\", err);\n//         })\n//     }\n// }\n\n// export function deleteCart(data) {\n//     return dispatch => {\n//         Axios({\n//             url:'http://192.168.10.184:8888/api/cart',\n//             method: 'POST',\n//             config: { \n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                     'Access-Control-Allow-Origin': '*',\n//                 }\n//             },\n//             data: data,\n//         })     \n//         .then((res) => {\n//             dispatch(getCart());\n//         })\n//         .catch((err) => {\n//             console.log(\"1111\", err);\n//         })\n//     }\n// }\n\nconst getCartSuccess = data => ({\n    type: getCart_DATA,\n    data,\n  });\n\n  export function getCart() {\n    return dispatch => {\n        Axios({\n            url:'http://192.168.10.186:8888/api/cart',\n            method: 'get',\n            config: { \n                headers: {\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin': '*',\n                }\n            },\n        })     \n        .then((res) => {\n            console.log(res);\n            dispatch(getCartSuccess(res.data));\n        })\n        .catch((err) => {\n            console.log(\"1111\", err);\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}