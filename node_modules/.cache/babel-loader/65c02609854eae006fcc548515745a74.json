{"ast":null,"code":"var _jsxFileName = \"/Users/phoebe/homework/obdesign/src/component/ShopCarList.js\";\nimport React, { Component } from 'react';\nimport { Table } from 'antd';\nimport { connect } from 'react-redux';\nimport { nobuyproduct, changenumproduct } from '../action/ShopCar';\nconst styles = {\n  table: {\n    maxWidth: \"1400px\",\n    width: \"90%\",\n    margin: \"0 auto\"\n  },\n  changenumblock: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  nobuyicon: {\n    fontSize: \"25px\",\n    cursor: \"pointer\"\n  },\n  changenumicon: {\n    fontSize: \"20px\",\n    cursor: \"pointer\"\n  },\n  numtext: {\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  },\n  img: {\n    maxWidth: \"200px\",\n    width: \"100%\"\n  },\n  titletext: {\n    fontSize: \"12px\",\n    color: \"#424242\"\n  },\n  nametext: {\n    fontSize: \"15px\",\n    color: \"#424242\"\n  }\n};\nconst columns = [{\n  title: '商品名稱',\n  dataIndex: 'prdname',\n  sorter: (a, b) => a.prdname > b.prdname\n}, {\n  title: '商品圖片',\n  dataIndex: 'prdimg',\n  align: 'center',\n  width: \"210px\"\n}, {\n  title: '單價',\n  dataIndex: 'prdsellprice',\n  align: 'center',\n  width: \"70px\"\n}, {\n  title: '數量',\n  dataIndex: 'prdquantity',\n  align: 'center',\n  width: \"75px\"\n}, {\n  title: '小計',\n  dataIndex: 'prdsubtotal',\n  align: 'center',\n  width: \"85px\"\n}, {\n  title: '移除',\n  dataIndex: 'prdnobuy',\n  align: 'center',\n  width: \"65px\"\n}];\n\nclass ShopCarList extends Component {\n  CalculationNum(type, quantity) {\n    switch (type) {\n      case \"decrease\":\n        if (quantity <= 1) {\n          alert('最少為1');\n          return quantity;\n        }\n\n        return quantity - 1;\n\n      case \"increase\":\n        return quantity + 1;\n\n      default:\n        return quantity;\n    }\n  }\n\n  render() {\n    let dataSourceTable = [];\n    let TotalMoney = 0;\n    console.log('this.props.shopping', this.props.shopping);\n    console.log(typeof this.props.shopping); // this.props.shopping.map(shop=>{\n    //     let dataSourceTableObj = {};\n    //     const subtoal = parseInt(shop.product.prdsellprice) * parseInt(shop.quantity);\n    //     dataSourceTableObj.key = shop.id;\n    //     dataSourceTableObj.prdname = <div>\n    //         <div style={styles.titletext}>{shop.product.prdtitle}</div>\n    //         <div style={styles.nametext}>{shop.product.prdname}</div>\n    //     </div>;\n    //     dataSourceTableObj.prdimg = <img style={styles.img} src={shop.product.prdimg} alt=\"圖片載入失敗\"/>;\n    //     dataSourceTableObj.prdsellprice = <div>{shop.product.prdsellprice}</div>;\n    //     dataSourceTableObj.prdquantity = <div style={styles.changenumblock}>\n    //         <i \n    //             style={styles.changenumicon}\n    //             className=\"far fa-minus-square\"\n    //             onClick={()=>this.props.changenum(shop.id,this.CalculationNum(\"decrease\",shop.quantity))}\n    //         />\n    //         <div style={{margin:\"0 5px\"}}>{shop.quantity}</div>\n    //         <i \n    //             style={styles.changenumicon}\n    //             className=\"far fa-plus-square\"\n    //             onClick={()=>this.props.changenum(shop.id,this.CalculationNum(\"increase\",shop.quantity))}\n    //         />\n    //     </div>;\n    //     dataSourceTableObj.prdsubtotal = <div>{subtoal}</div>;\n    //     dataSourceTableObj.prdnobuy = <i \n    //         style={styles.nobuyicon}\n    //         className=\"fas fa-trash-alt\"\n    //         onClick={() => this.props.nobuy(shop.id)}\n    //     />;\n    //     TotalMoney += subtoal;\n    //     dataSourceTable.push(dataSourceTableObj);\n    // })      \n\n    return React.createElement(Table, {\n      columns: columns,\n      dataSource: dataSourceTable,\n      bordered: true,\n      scroll: {\n        x: 800\n      },\n      footer: () => React.createElement(\"div\", {\n        style: styles.numtext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"\\u7E3D\\u8A08\\uFF1A\".concat(TotalMoney)),\n      style: styles.table,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    });\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    shopping: state.ShopCar\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changenum: (id, num) => {\n      dispatch(changenumproduct(id, num));\n    },\n    nobuy: id => {\n      dispatch(nobuyproduct(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopCarList);","map":{"version":3,"sources":["/Users/phoebe/homework/obdesign/src/component/ShopCarList.js"],"names":["React","Component","Table","connect","nobuyproduct","changenumproduct","styles","table","maxWidth","width","margin","changenumblock","display","alignItems","justifyContent","nobuyicon","fontSize","cursor","changenumicon","numtext","img","titletext","color","nametext","columns","title","dataIndex","sorter","a","b","prdname","align","ShopCarList","CalculationNum","type","quantity","alert","render","dataSourceTable","TotalMoney","console","log","props","shopping","x","mapStateToProps","state","ShopCar","mapDispatchToProps","dispatch","changenum","id","num","nobuy"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { Table } from 'antd';\nimport { connect } from 'react-redux';\nimport { nobuyproduct, changenumproduct } from '../action/ShopCar';\n\nconst styles = {\n    table:{\n        maxWidth:\"1400px\",\n        width:\"90%\",\n        margin:\"0 auto\",\n    },\n    changenumblock:{\n        display:\"flex\",\n        alignItems:\"center\",\n        justifyContent:\"center\",\n    },\n    nobuyicon:{\n        fontSize:\"25px\",\n        cursor:\"pointer\",\n    },\n    changenumicon:{\n        fontSize:\"20px\",\n        cursor:\"pointer\",\n    },\n    numtext:{\n        display:\"flex\",\n        justifyContent:\"flex-end\",\n    },\n    img:{\n        maxWidth:\"200px\",\n        width: \"100%\",\n    },\n    titletext:{\n        fontSize:\"12px\",\n        color:\"#424242\",\n    },\n    nametext:{\n        fontSize:\"15px\",\n        color:\"#424242\",\n    },\n}\n\nconst columns = [{\n    title: '商品名稱',\n    dataIndex: 'prdname',\n    sorter: (a, b) => a.prdname > b.prdname,\n}, {\n    title: '商品圖片',\n    dataIndex: 'prdimg',\n    align:'center',\n    width:\"210px\"\n}, {\n    title: '單價',\n    dataIndex: 'prdsellprice',\n    align:'center',\n    width:\"70px\"\n},{\n    title: '數量',\n    dataIndex: 'prdquantity',\n    align:'center',\n    width:\"75px\",\n},{\n    title: '小計',\n    dataIndex: 'prdsubtotal',\n    align:'center',\n    width:\"85px\"\n},{\n    title: '移除',\n    dataIndex: 'prdnobuy',\n    align:'center',\n    width:\"65px\"\n}\n\n];\n\nclass ShopCarList extends Component{\n    CalculationNum(type,quantity){\n        switch(type){\n            case \"decrease\":\n                if(quantity <= 1){\n                    alert('最少為1')\n                    return quantity\n                }\n                return quantity-1\n            case \"increase\":\n                return quantity+1\n            default:\n                return quantity\n        }\n    }\n    render(){ \n        let dataSourceTable =[];\n        let TotalMoney =0;\n        console.log('this.props.shopping',this.props.shopping);\n        console.log(typeof this.props.shopping);\n        // this.props.shopping.map(shop=>{\n        //     let dataSourceTableObj = {};\n        //     const subtoal = parseInt(shop.product.prdsellprice) * parseInt(shop.quantity);\n        //     dataSourceTableObj.key = shop.id;\n        //     dataSourceTableObj.prdname = <div>\n        //         <div style={styles.titletext}>{shop.product.prdtitle}</div>\n        //         <div style={styles.nametext}>{shop.product.prdname}</div>\n        //     </div>;\n        //     dataSourceTableObj.prdimg = <img style={styles.img} src={shop.product.prdimg} alt=\"圖片載入失敗\"/>;\n        //     dataSourceTableObj.prdsellprice = <div>{shop.product.prdsellprice}</div>;\n        //     dataSourceTableObj.prdquantity = <div style={styles.changenumblock}>\n        //         <i \n        //             style={styles.changenumicon}\n        //             className=\"far fa-minus-square\"\n        //             onClick={()=>this.props.changenum(shop.id,this.CalculationNum(\"decrease\",shop.quantity))}\n        //         />\n        //         <div style={{margin:\"0 5px\"}}>{shop.quantity}</div>\n        //         <i \n        //             style={styles.changenumicon}\n        //             className=\"far fa-plus-square\"\n        //             onClick={()=>this.props.changenum(shop.id,this.CalculationNum(\"increase\",shop.quantity))}\n        //         />\n        //     </div>;\n        //     dataSourceTableObj.prdsubtotal = <div>{subtoal}</div>;\n        //     dataSourceTableObj.prdnobuy = <i \n        //         style={styles.nobuyicon}\n        //         className=\"fas fa-trash-alt\"\n        //         onClick={() => this.props.nobuy(shop.id)}\n        //     />;\n        //     TotalMoney += subtoal;\n        //     dataSourceTable.push(dataSourceTableObj);\n        // })      \n      return (\n        <Table\n                columns={columns}\n                dataSource={dataSourceTable}\n                bordered\n                scroll={{x:800}}\n                footer={() => <div style={styles.numtext}>{`總計：${TotalMoney}`}</div>}\n                style={styles.table}\n        />\n      );\n    }\n  }\n\n  const mapStateToProps = (state) => {\n    return {\n      shopping: state.ShopCar,\n    }\n  }\n  \n  const mapDispatchToProps = (dispatch) => {\n    return {\n      changenum: (id,num) => { dispatch(changenumproduct(id,num)) },\n      nobuy: (id) => {dispatch(nobuyproduct(id))},\n    }\n  }\n  \n\n  export default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ShopCarList);\n"]},"metadata":{},"sourceType":"module"}