{"ast":null,"code":"import _objectSpread from \"/Users/phoebe/homework/obdesign/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { BUY_PRODUCT } from '../action/ShopCar';\nconst initialState = {\n  cartDate: []\n};\n\nconst ShopCar = (state = initialState, action) => {\n  switch (action.type) {\n    case BUY_PRODUCT:\n      const aaa = state.cartDate.find(val => val.name === action.data.name);\n      console.log('aaa', aaa);\n\n      if (aaa) {\n        return _objectSpread({}, state, {\n          cartDate: [...state.cartDate, _objectSpread({}, aaa, {\n            quantity: action.data.quantity + 1\n          })]\n        });\n      }\n\n      return _objectSpread({}, state, {\n        cartDate: [...state.cartDate, action.data]\n      });\n\n    default:\n      return state;\n  }\n}; // const Product = (state=[],action) => {\n//     switch (action.type){\n//         case 'BUY_PRODUCT':\n//             return{\n//                 id: action.id,\n//                 product: {...action.product},\n//                 quantity: action.quantity\n//             };\n//         case 'NOBUY_PRODUCT':\n//             return Object.assign([], state).filter(state=>{\n//                 return state.id !== action.id\n//             })\n//         case 'CHANGENUM_PRODUCT':\n//             if(state.id !== action.id)\n//                 return state;\n//             return Object.assign({},state,{\n//                 quantity: action.quantity\n//             })\n//         default:\n//             return state;\n//     }\n// }\n// const ShopCar = (state=[],action) => {\n//     switch (action.type){\n//         case 'BUY_PRODUCT':\n//             if(state.map(t => {return t.product.id}).indexOf(action.product.id) >= 0){\n//                 alert(\"此商品已加入購物車\");\n//                 return state;\n//             }\n//             else\n//                 return [\n//                     ...state,\n//                     Product(state,action)\n//                 ];\n//         case 'NOBUY_PRODUCT':\n//             return Product(state,action);\n//         case 'CHANGENUM_PRODUCT':\n//             return state.map(t=>Product(t,action));\n//         default:\n//             return state;\n//     }\n// }\n\n\nexport default ShopCar;","map":{"version":3,"sources":["/Users/phoebe/homework/obdesign/src/reducer/ShopCar.js"],"names":["BUY_PRODUCT","initialState","cartDate","ShopCar","state","action","type","aaa","find","val","name","data","console","log","quantity"],"mappings":";AAAA,SACIA,WADJ,QAEO,mBAFP;AAIA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE;AADO,CAArB;;AAGA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAACH,YAAP,EAAoBI,MAApB,KAA+B;AAC3C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKN,WAAL;AACI,YAAMO,GAAG,GAAGH,KAAK,CAACF,QAAN,CAAeM,IAAf,CAAoBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,KAAaL,MAAM,CAACM,IAAP,CAAYD,IAApD,CAAZ;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBN,GAAlB;;AACA,UAAGA,GAAH,EAAQ;AACJ,iCACOH,KADP;AAEIF,UAAAA,QAAQ,EAAE,CACN,GAAGE,KAAK,CAACF,QADH,oBAGHK,GAHG;AAINO,YAAAA,QAAQ,EAAET,MAAM,CAACM,IAAP,CAAYG,QAAZ,GAAuB;AAJ3B;AAFd;AAUH;;AACD,+BACOV,KADP;AAEIF,QAAAA,QAAQ,EAAE,CACN,GAAGE,KAAK,CAACF,QADH,EAENG,MAAM,CAACM,IAFD;AAFd;;AAOJ;AACI,aAAOP,KAAP;AAxBR;AA0BH,CA3BD,C,CA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAeD,OAAf","sourcesContent":["import {\n    BUY_PRODUCT,\n} from '../action/ShopCar'\n\nconst initialState = {\n    cartDate: [],\n};\nconst ShopCar = (state=initialState,action) => {\n    switch (action.type){\n        case BUY_PRODUCT:\n            const aaa = state.cartDate.find(val => val.name === action.data.name);\n            console.log('aaa',aaa);\n            if(aaa) {\n                return { \n                    ...state,\n                    cartDate: [\n                        ...state.cartDate,\n                        {\n                        ...aaa,\n                        quantity: action.data.quantity + 1,\n                        },\n                    ],\n                };\n            }\n            return { \n                ...state,\n                cartDate: [\n                    ...state.cartDate,\n                    action.data,\n                ],\n            };\n        default:\n            return state;\n    }\n}\n\n// const Product = (state=[],action) => {\n//     switch (action.type){\n//         case 'BUY_PRODUCT':\n//             return{\n//                 id: action.id,\n//                 product: {...action.product},\n//                 quantity: action.quantity\n//             };\n//         case 'NOBUY_PRODUCT':\n//             return Object.assign([], state).filter(state=>{\n//                 return state.id !== action.id\n//             })\n//         case 'CHANGENUM_PRODUCT':\n//             if(state.id !== action.id)\n//                 return state;\n//             return Object.assign({},state,{\n//                 quantity: action.quantity\n//             })\n//         default:\n//             return state;\n//     }\n// }\n\n// const ShopCar = (state=[],action) => {\n//     switch (action.type){\n//         case 'BUY_PRODUCT':\n//             if(state.map(t => {return t.product.id}).indexOf(action.product.id) >= 0){\n//                 alert(\"此商品已加入購物車\");\n//                 return state;\n//             }\n//             else\n//                 return [\n//                     ...state,\n//                     Product(state,action)\n//                 ];\n//         case 'NOBUY_PRODUCT':\n//             return Product(state,action);\n//         case 'CHANGENUM_PRODUCT':\n//             return state.map(t=>Product(t,action));\n//         default:\n//             return state;\n//     }\n// }\n\nexport default ShopCar;"]},"metadata":{},"sourceType":"module"}