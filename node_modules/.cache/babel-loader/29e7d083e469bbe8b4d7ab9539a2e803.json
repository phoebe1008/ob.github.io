{"ast":null,"code":"var _jsxFileName = \"/Users/phoebe/homework/obdesign/src/component/ShopCarList.js\";\nimport React, { Component } from 'react';\nimport { Table, Modal } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { updateCart, deleteCart } from '../action/ShopCar';\nimport { constants } from 'fs';\nconst styles = {\n  table: {\n    maxWidth: \"1400px\",\n    width: \"90%\",\n    margin: \"0 auto\"\n  },\n  antTablePlaceholder: {\n    marginTop: '10px'\n  },\n  changenumblock: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  nobuyicon: {\n    fontSize: \"25px\",\n    cursor: \"pointer\",\n    color: '#bdbdbd'\n  },\n  changenumicon: {\n    fontSize: \"20px\",\n    cursor: \"pointer\",\n    color: '#f79db4'\n  },\n  numtext: {\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  },\n  img: {\n    maxWidth: \"200px\",\n    width: \"100%\"\n  },\n  titletext: {\n    fontSize: \"12px\",\n    color: \"#424242\"\n  },\n  nametext: {\n    fontSize: \"15px\",\n    color: \"#424242\"\n  }\n};\nconst columns = [{\n  title: '商品名稱',\n  dataIndex: 'name',\n  sorter: (a, b) => a.productName > b.productName\n}, {\n  title: '商品圖片',\n  dataIndex: 'image',\n  align: 'center',\n  width: \"210px\"\n}, {\n  title: '單價',\n  dataIndex: 'price',\n  align: 'center',\n  width: \"70px\"\n}, {\n  title: '數量',\n  dataIndex: 'prdquantity',\n  align: 'center',\n  width: \"75px\"\n}, {\n  title: '小計',\n  dataIndex: 'prdsubtotal',\n  align: 'center',\n  width: \"85px\"\n}, {\n  title: '移除',\n  dataIndex: 'prdnobuy',\n  align: 'center',\n  width: \"65px\"\n}];\n\nclass ShopCarList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visible: false,\n      currentProduct: {}\n    };\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleOk = e => {\n      const currentProduct = this.state.currentProduct;\n      this.setState({\n        visible: false\n      });\n      deleteCart(currentProduct);\n    };\n\n    this.handleCancel = e => {\n      this.setState({\n        visible: false\n      });\n    };\n  }\n\n  updateShopCart(product, mode) {\n    const updateCart = this.props.updateCart;\n\n    if (mode === 'min' && product.quantity === 1) {\n      this.showModal(product);\n      this.setState({\n        currentProduct: product\n      });\n    } else {\n      const data = {\n        idCart: product.idCart,\n        name: product.name,\n        accountName: product.accountName,\n        discount: product.discount,\n        quantity: mode === 'add' ? product.quantity + 1 : product.quantity - 1,\n        size: product.size,\n        image: product.image\n      };\n      updateCart(data);\n    }\n  }\n\n  deleteShopCart(product) {\n    const deleteCart = this.props.deleteCart;\n    deleteCart(product);\n  }\n\n  render() {\n    let dataSourceTable = [];\n    let TotalMoney = 0;\n    console.log('cartDate', this.props.cartDate);\n    this.props.cartDate && this.props.cartDate.map((shop, index) => {\n      let dataSourceTableObj = {};\n      const subTotal = parseInt(shop.discount) * parseInt(shop.quantity);\n      dataSourceTableObj.key = index;\n      dataSourceTableObj.name = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: styles.nametext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, shop.name));\n      dataSourceTableObj.image = React.createElement(\"img\", {\n        style: styles.img,\n        src: shop.image,\n        alt: \"\\u5716\\u7247\\u8F09\\u5165\\u5931\\u6557\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      });\n      dataSourceTableObj.price = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, shop.discount);\n      dataSourceTableObj.prdquantity = React.createElement(\"div\", {\n        style: styles.changenumblock,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        style: styles.changenumicon,\n        className: \"far fa-minus-square\",\n        onClick: () => this.updateShopCart(shop, 'min'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          margin: \"0 5px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, shop.quantity), React.createElement(\"i\", {\n        style: styles.changenumicon,\n        className: \"far fa-plus-square\",\n        onClick: () => this.updateShopCart(shop, 'add'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }));\n      dataSourceTableObj.prdsubtotal = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, subTotal);\n      dataSourceTableObj.prdnobuy = React.createElement(\"i\", {\n        style: styles.nobuyicon,\n        className: \"fas fa-trash-alt\",\n        onClick: () => this.deleteShopCart(shop),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      });\n      TotalMoney += subTotal;\n      dataSourceTable.push(dataSourceTableObj);\n    });\n    return React.createElement(React.Fragment, null, React.createElement(Modal, {\n      title: \"\\u8CBC\\u5FC3\\u63D0\\u793A\",\n      visible: this.state.visible,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"\\u78BA\\u5B9A\\u8981\\u522A\\u9664\\u6B64\\u7522\\u54C1\\uFF1F\")), React.createElement(Table, {\n      columns: columns,\n      dataSource: dataSourceTable,\n      bordered: true,\n      scroll: {\n        x: 800\n      },\n      footer: () => React.createElement(\"div\", {\n        style: styles.numtext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"\\u7E3D\\u8A08\\uFF1A\".concat(TotalMoney)),\n      style: styles.table,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    cartDate: state.ShopCar.cartDate\n  };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  updateCart,\n  deleteCart\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopCarList);","map":{"version":3,"sources":["/Users/phoebe/homework/obdesign/src/component/ShopCarList.js"],"names":["React","Component","Table","Modal","bindActionCreators","connect","updateCart","deleteCart","constants","styles","table","maxWidth","width","margin","antTablePlaceholder","marginTop","changenumblock","display","alignItems","justifyContent","nobuyicon","fontSize","cursor","color","changenumicon","numtext","img","titletext","nametext","columns","title","dataIndex","sorter","a","b","productName","align","ShopCarList","state","visible","currentProduct","showModal","setState","handleOk","e","handleCancel","updateShopCart","product","mode","props","quantity","data","idCart","name","accountName","discount","size","image","deleteShopCart","render","dataSourceTable","TotalMoney","console","log","cartDate","map","shop","index","dataSourceTableObj","subTotal","parseInt","key","price","prdquantity","prdsubtotal","prdnobuy","push","x","mapStateToProps","ShopCar","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { Table, Modal } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { updateCart, deleteCart } from '../action/ShopCar';\nimport { constants } from 'fs';\n\n\nconst styles = {\n    table:{\n        maxWidth:\"1400px\",\n        width:\"90%\",\n        margin:\"0 auto\",\n    },\n    antTablePlaceholder: {\n        marginTop: '10px',\n    },\n    changenumblock:{\n        display:\"flex\",\n        alignItems:\"center\",\n        justifyContent:\"center\",\n    },\n    nobuyicon:{\n        fontSize:\"25px\",\n        cursor:\"pointer\",\n        color: '#bdbdbd',\n    },\n    changenumicon:{\n        fontSize:\"20px\",\n        cursor:\"pointer\",\n        color: '#f79db4',\n    },\n    numtext:{\n        display:\"flex\",\n        justifyContent:\"flex-end\",\n    },\n    img:{\n        maxWidth:\"200px\",\n        width: \"100%\",\n    },\n    titletext:{\n        fontSize:\"12px\",\n        color:\"#424242\",\n    },\n    nametext:{\n        fontSize:\"15px\",\n        color:\"#424242\",\n    },\n}\n\nconst columns = [{\n    title: '商品名稱',\n    dataIndex: 'name',\n    sorter: (a, b) => a.productName > b.productName,\n}, {\n    title: '商品圖片',\n    dataIndex: 'image',\n    align:'center',\n    width:\"210px\"\n}, {\n    title: '單價',\n    dataIndex: 'price',\n    align:'center',\n    width:\"70px\"\n},{\n    title: '數量',\n    dataIndex: 'prdquantity',\n    align:'center',\n    width:\"75px\",\n},{\n    title: '小計',\n    dataIndex: 'prdsubtotal',\n    align:'center',\n    width:\"85px\"\n},{\n    title: '移除',\n    dataIndex: 'prdnobuy',\n    align:'center',\n    width:\"65px\"\n}\n\n];\n\nclass ShopCarList extends Component{\n    state = { \n        visible: false,\n        currentProduct: {} \n    };\n\n    updateShopCart(product,mode){\n        const { updateCart } = this.props;\n        if(mode === 'min' && product.quantity === 1) {\n            this.showModal(product);\n            this.setState({\n                currentProduct: product,\n              });\n        } else {\n            const data = {\n                idCart: product.idCart,\n                name: product.name,\n                accountName: product.accountName,\n                discount: product.discount,\n                quantity: mode ==='add' ? (product.quantity+1): (product.quantity-1),\n                size: product.size,   \n                image: product.image,\n             };\n            updateCart(data);\n        }\n      }\n\n    deleteShopCart(product){\n        const { deleteCart } = this.props;\n        deleteCart(product);\n    }\n\n    showModal = () => {\n        this.setState({\n          visible: true,\n        });\n    };\n\n    handleOk = e => {\n        const { currentProduct } = this.state;\n        this.setState({\n          visible: false,\n        });\n        deleteCart(currentProduct);\n    };\n\n    handleCancel = e => {\n        this.setState({\n          visible: false,\n        });\n    };\n\n    render(){ \n        let dataSourceTable =[];\n        let TotalMoney =0;\n        console.log('cartDate',this.props.cartDate);\n        this.props.cartDate && this.props.cartDate.map((shop, index)=>{\n            let dataSourceTableObj = {};\n            const subTotal = parseInt(shop.discount) * parseInt(shop.quantity);\n            dataSourceTableObj.key = index;\n            dataSourceTableObj.name = <div>\n                <div style={styles.nametext}>{shop.name}</div>\n            </div>;\n            dataSourceTableObj.image = <img style={styles.img} src={shop.image} alt=\"圖片載入失敗\"/>;\n            dataSourceTableObj.price = <div>{shop.discount}</div>;\n            dataSourceTableObj.prdquantity = <div style={styles.changenumblock}>\n                <i \n                    style={styles.changenumicon}\n                    className=\"far fa-minus-square\"\n                    onClick={()=>this.updateShopCart(shop,'min')}\n                />\n                <div style={{margin:\"0 5px\"}}>{shop.quantity}</div>\n                <i \n                    style={styles.changenumicon}\n                    className=\"far fa-plus-square\"\n                    onClick={()=>this.updateShopCart(shop,'add')}\n                />\n            </div>;\n            dataSourceTableObj.prdsubtotal = <div>{subTotal}</div>;\n            dataSourceTableObj.prdnobuy = <i \n                style={styles.nobuyicon}\n                className=\"fas fa-trash-alt\"\n                onClick={() => this.deleteShopCart(shop)}\n            />;\n            TotalMoney += subTotal;\n            dataSourceTable.push(dataSourceTableObj);\n        })    \n      return (\n        <>\n        <Modal\n          title=\"貼心提示\"\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n        >\n          <p>確定要刪除此產品？</p>\n        </Modal>\n        <Table\n            columns={columns}\n            dataSource={dataSourceTable}\n            bordered\n            scroll={{x:800}}\n            footer={() => <div style={styles.numtext}>{`總計：${TotalMoney}`}</div>}\n            style={styles.table}\n        />\n        </>\n      );\n    }\n  }\n\n  const mapStateToProps = (state) => {\n    return {\n        cartDate: state.ShopCar.cartDate,\n      }\n  }\n  \n  const mapDispatchToProps = dispatch => bindActionCreators({\n    updateCart,\n    deleteCart,\n  }, dispatch);\n\n  export default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(ShopCarList);\n"]},"metadata":{},"sourceType":"module"}